(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1836:(e,r,a)=>{Promise.resolve().then(a.bind(a,6863))},6863:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>x});var t=a(5155),s=a(351),l=a(2115),n=a(2586);function i(e){let{skinUrl:r,cosmeticUrls:a=[],onViewerReady:s}=e,i=(0,l.useRef)(null),c=(0,l.useRef)(null),o=a.join(",");return(0,l.useEffect)(()=>{var e;let t=i.current;if(!t)return;null==(e=c.current)||e.dispose();let l=async()=>{let e=t.offsetWidth,l=t.offsetHeight,i=await d(r,a),o=new n.qb({width:e,height:l,skin:i});o.zoom=1,o.animation=new n.nU,c.current=o,t.innerHTML="",t.appendChild(o.canvas),s&&s(o)};return l(),window.addEventListener("resize",l),()=>{var e;window.removeEventListener("resize",l),null==(e=c.current)||e.dispose()}},[r,o,s]),(0,t.jsx)("div",{ref:i,className:"w-full h-full relative"})}async function d(e,r){let a=await c(e),t=await Promise.all(r.map(c)),s=document.createElement("canvas");s.width=64,s.height=64;let l=s.getContext("2d");for(let e of(l.clearRect(0,0,s.width,s.height),l.drawImage(a,0,0),t))l.drawImage(e,0,0);return new Promise(e=>{s.toBlob(r=>{if(!r)throw Error("Failed to generate skin blob");e(URL.createObjectURL(r))},"image/png")})}function c(e){return new Promise((r,a)=>{let t=new Image;t.crossOrigin="anonymous",t.onload=()=>r(t),t.onerror=a,t.src=e})}var o=a(8353),m=a.n(o);function x(){let[e,r]=(0,l.useState)("https://i.imgur.com/4MOqhGZ.png"),[a,n]=(0,l.useState)([]),[d,c]=(0,l.useState)(!1),[o,x]=(0,l.useState)(""),u=(0,l.useRef)(null);(0,l.useEffect)(()=>{m().setAppElement("body")},[]);let h=[{id:"hat-arab",name:"Arab Hat",icon:(0,t.jsx)(s.JXP,{}),url:"/cosmetics/arab.png",type:"head"},{id:"santa-hat",name:"Santa Hat",icon:(0,t.jsx)(s.JXP,{}),url:"/cosmetics/santa_hat.png",type:"head"}],g=e=>{n(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},b=(0,l.useCallback)(e=>{u.current=e},[]),f=async()=>{let r=await p(e),t=await Promise.all(a.map(p)),s=document.createElement("canvas");s.width=64,s.height=64;let l=s.getContext("2d");for(let e of(l.drawImage(r,0,0),t))l.drawImage(e,0,0);return new Promise(e=>s.toBlob(r=>e(r),"image/png"))},p=e=>new Promise((r,a)=>{let t=new Image;t.crossOrigin="anonymous",t.onload=()=>r(t),t.onerror=a,t.src=e});return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-grey-900 via-gray-800 to-gray-900 text-gray-100",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 backdrop-blur-lg bg-gray-800/70 border-b border-gray-700/30 py-4 px-6 shadow-xl",children:(0,t.jsxs)("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-lg flex items-center justify-center mr-3 shadow-lg",children:(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDEE0ï¸"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent",children:"SkinForge"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("button",{onClick:()=>c(!0),className:"px-5 py-2.5 rounded-xl bg-gray-700/50 border border-gray-600/30 flex items-center",children:[(0,t.jsx)(s.JXP,{className:"mr-2"})," NameMc"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:"skin-upload",type:"file",accept:"image/png",className:"absolute inset-0 opacity-0 w-full h-full cursor-pointer",onChange:e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];t&&r(URL.createObjectURL(t))}}),(0,t.jsxs)("button",{className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 flex items-center pointer-events-none",children:[(0,t.jsx)(s.B88,{className:"mr-2"})," Upload"]})]})]})]})}),(0,t.jsx)("main",{className:"container mx-auto py-8 px-4",children:(0,t.jsxs)("div",{className:"flex flex-col xl:flex-row gap-8",children:[(0,t.jsxs)("div",{className:"xl:w-2/5 bg-gray-800/40 rounded-2xl p-6 shadow-2xl border border-gray-700/20",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-emerald-400",children:"Preview"}),(0,t.jsx)("div",{className:"flex space-x-2",children:["Front","Behind","Left","Right"].map(e=>(0,t.jsx)("button",{onClick:()=>(e=>{let r=u.current;if(r)switch(e){case"Front":r.camera.rotation.y=0;break;case"Behind":r.camera.rotation.y=Math.PI;break;case"Left":r.camera.rotation.y=Math.PI/2;break;case"Right":r.camera.rotation.y=-Math.PI/2}})(e),className:"px-3 py-1 text-xs rounded-lg bg-gray-700/50 border border-gray-600/30 text-gray-300",children:e},e))})]}),(0,t.jsx)("div",{className:"relative h-96 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-64 h-64 rounded-lg border border-gray-600/30 flex items-center justify-center relative",children:(0,t.jsx)(i,{skinUrl:e,cosmeticUrls:a,onViewerReady:b})})}),(0,t.jsxs)("div",{className:"mt-6 bg-gray-800/50 rounded-xl p-4 border border-gray-700/30",children:[(0,t.jsx)("h3",{className:"font-medium mb-3 text-emerald-400",children:"Active Cosmetics"}),0===a.length?(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"No cosmetics selected."}):(0,t.jsx)("div",{className:"space-y-2",children:a.map(e=>{let r=h.find(r=>r.url===e);return r?(0,t.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-emerald-500/10 rounded-md flex items-center justify-center mr-3",children:r.icon}),(0,t.jsx)("span",{className:"text-sm",children:r.name})]}),(0,t.jsx)("button",{onClick:()=>g(e),className:"text-gray-300 hover:text-white",children:(0,t.jsx)(s.IXo,{size:16})})]},r.id):null})})]})]}),(0,t.jsxs)("div",{className:"xl:w-3/5 bg-gray-800/40 rounded-2xl p-6 shadow-2xl border border-gray-700/20",children:[(0,t.jsx)("div",{className:"flex border-b border-gray-700/30 mb-6",children:(0,t.jsxs)("button",{className:"px-4 py-2 font-medium text-emerald-400 relative",children:["Cosmetics",(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-emerald-400 to-teal-400"})]})}),(0,t.jsx)("div",{className:"overflow-y-auto pr-2 max-h-[500px]",children:(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h3",{className:"font-medium text-emerald-400 flex items-center mb-3 px-2",children:[(0,t.jsx)(s.JXP,{className:"mr-2"})," Head Cosmetics"]}),(0,t.jsx)("div",{className:"space-y-2",children:h.filter(e=>"head"===e.type).map(e=>(0,t.jsxs)("div",{onClick:()=>g(e.url),className:"flex items-center p-3 rounded-lg border transition-all cursor-pointer ".concat(a.includes(e.url)?"bg-emerald-500/10 border-emerald-500":"bg-gray-700/30 border-gray-600/20 hover:bg-gray-600/50"),children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-600/30 rounded-md flex items-center justify-center mr-3",children:e.icon}),(0,t.jsx)("span",{className:"flex-grow text-sm",children:e.name}),a.includes(e.url)&&(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border border-emerald-400 flex items-center justify-center",children:(0,t.jsx)(s.YrT,{className:"text-emerald-400"})})]},e.id))})]})}),(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-700/30 flex justify-between",children:[(0,t.jsxs)("button",{onClick:()=>{r("https://i.imgur.com/4MOqhGZ.png"),n([])},className:"px-6 py-3 rounded-xl bg-gray-700/50 border border-gray-600/30 text-gray-300 flex items-center cursor-pointer",disabled:!0,children:[(0,t.jsx)(s.IXo,{className:"mr-2"})," Reset"]}),(0,t.jsxs)("button",{onClick:async()=>{let e=await f();if(!e)return alert("Failed to generate skin.");let r=URL.createObjectURL(e),a=document.createElement("a");a.href=r,a.download="custom_skin.png",a.click(),URL.revokeObjectURL(r)},className:"px-6 py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-500 shadow-lg flex items-center cursor-pointer",children:[(0,t.jsx)(s.a4x,{className:"mr-2"})," Download Skin"]})]})]})]})}),(0,t.jsxs)(m(),{isOpen:d,onRequestClose:()=>c(!1),className:"bg-gray-800 p-8 rounded-2xl max-2-md mx-auto mt-32 shadow-2xl border border-gray-700 text-gray-200",overlayClassName:"fixed inset-0 bg-black/70 flex items-center justify-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4 text-emerald-400",children:"Load skin from NameMC"}),(0,t.jsx)("input",{type:"text",placeholder:"Enter Minecraft username",value:o,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 mb-4 rounded-lg bg-gray-700 border border-gray-600"}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>c(!1),className:"px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600",children:"Cancel"}),(0,t.jsx)("button",{onClick:async()=>{if(!o)return;let e="https://mc-heads.net/skin/".concat(o);try{(await fetch(e,{method:"HEAD"})).ok?(r(e),c(!1)):alert("User not found or no skin.")}catch(e){alert("Failed to fetch skin.")}},className:"px-4 py-2 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-black font-medium",children:"Load Skin"})]})]})]})}}},e=>{e.O(0,[367,844,719,441,964,358],()=>e(e.s=1836)),_N_E=e.O()}]);